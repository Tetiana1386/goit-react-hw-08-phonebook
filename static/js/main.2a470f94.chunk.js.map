{"version":3,"sources":["redux/contacts/contacts-actions.js","redux/contacts/contacts-reducer.js","redux/store.js","components/PrivateRoute.js","components/PublicRoute.js","components/Container/Container.js","components/Navigation/Navigation.js","img/avatar.png","components/UserMenu/UserMenu.js","components/AuthNav/AuthNav.js","components/AppBar/AppBar.js","App.js","index.js","redux/auth/auth-operations.js","redux/auth/auth-selectors.js","components/Navigation/Navigation.module.css","redux/auth/auth-actions.js","components/AuthNav/AuthNav.module.css","redux/auth/auth-reducer.js","components/UserMenu/UserMenu.module.css","components/Loader/Loader.js","components/Container/Container.module.css","components/AppBar/AppBar.module.css","components/Loader/Loader.module.css"],"names":["fetchContactsRequest","createAction","fetchContactsSuccess","fetchContactsError","addContactRequest","addContactSuccess","addContactError","deleteContactRequest","deleteContactSuccess","deleteContactError","filterContact","items","createReducer","_","payload","state","filter","id","isLoading","error","combineReducers","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","auth","persistReducer","authReducer","contacts","contactsReducer","devTools","process","persistor","persistStore","PrivateRoute","isAuthenticated","redirectTo","children","routeProps","isLoggedIn","useSelector","authSelectors","getIsAuthenticated","to","PublicRoute","restricted","Container","className","styles","Navigation","Nav","exact","Link","activeClassName","ActiveLink","UserMenu","dispatch","useDispatch","name","getUserName","src","defaultAvatar","alt","width","Avatar","Name","Button","color","variant","type","onClick","authOperations","logOut","AuthNav","Appbar","Header","HomeView","lazy","RegisterView","LoginView","ContactsView","NotFoundView","App","useEffect","getCurrentUser","fallback","Loader","path","autoClose","position","ReactDOM","render","StrictMode","loading","document","getElementById","axios","defaults","baseURL","token","headers","common","Authorization","register","credentials","a","registerRequest","post","response","data","registerSuccess","registerError","status","toast","logIn","loginRequest","loginSuccess","loginError","logoutRequest","logoutSuccess","logoutError","getState","persistedToken","getCurrentUserRequest","get","getCurrentUserSuccess","getCurrentUserError","warn","user","getLoading","getError","module","exports","initialUserState","email","setError","LoaderComponent","overlay","height","timeout"],"mappings":"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","file":"static/js/main.2a470f94.chunk.js","sourcesContent":["import { createAction } from '@reduxjs/toolkit';\n\nexport const fetchContactsRequest = createAction(\n  'contacts/fetchContactsRequest',\n);\nexport const fetchContactsSuccess = createAction(\n  'contacts/fetchContactsSuccess',\n);\nexport const fetchContactsError = createAction('contacts/fetchContactsError');\n\nexport const addContactRequest = createAction('contacts/addContactRequest');\nexport const addContactSuccess = createAction('contacts/addContactSuccess');\nexport const addContactError = createAction('contacts/addContactError');\n\nexport const deleteContactRequest = createAction(\n  'contacts/deleteContactRequest',\n);\nexport const deleteContactSuccess = createAction(\n  'contacts/deleteContactSuccess',\n);\nexport const deleteContactError = createAction('contacts/deleteContactError');\n\nexport const filterContact = createAction('contacts/filter');\n","import { createReducer, combineReducers } from '@reduxjs/toolkit';\nimport {\n  fetchContactsRequest,\n  fetchContactsSuccess,\n  fetchContactsError,\n  addContactRequest,\n  addContactSuccess,\n  addContactError,\n  deleteContactRequest,\n  deleteContactSuccess,\n  deleteContactError,\n  filterContact,\n} from './contacts-actions';\n\nconst items = createReducer([], {\n  [fetchContactsSuccess]: (_, { payload }) => payload,\n  [addContactSuccess]: (state, { payload }) => [...state, payload],\n  [deleteContactSuccess]: (state, { payload }) =>\n    state.filter(({ id }) => id !== payload),\n});\n\nconst isLoading = createReducer(false, {\n  [fetchContactsRequest]: () => true,\n  [fetchContactsSuccess]: () => false,\n  [fetchContactsError]: () => false,\n  [addContactRequest]: () => true,\n  [addContactSuccess]: () => false,\n  [addContactError]: () => false,\n  [deleteContactRequest]: () => true,\n  [deleteContactSuccess]: () => false,\n  [deleteContactError]: () => false,\n});\n\nconst filter = createReducer('', {\n  [filterContact]: (_, { payload }) => payload,\n});\n\nconst error = createReducer(null, {\n  [fetchContactsError]: (_, { payload }) => payload,\n  [addContactError]: (_, { payload }) => payload,\n  [deleteContactError]: (_, { payload }) => payload,\n  [fetchContactsRequest]: () => null,\n  [addContactRequest]: () => null,\n  [deleteContactRequest]: () => null,\n});\n\nexport default combineReducers({\n  items,\n  filter,\n  isLoading,\n  error,\n});\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\nimport {\n  persistStore,\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\nimport contactsReducer from './contacts/contacts-reducer';\nimport authReducer from './auth/auth-reducer';\n\nconst middleware = [\n  ...getDefaultMiddleware({\n    serializableCheck: {\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n    },\n  }),\n];\n\nconst authPersistConfig = {\n  key: 'auth',\n  storage,\n  whitelist: ['token'],\n};\n\nexport const store = configureStore({\n  reducer: {\n    auth: persistReducer(authPersistConfig, authReducer),\n    contacts: contactsReducer,\n  },\n  middleware,\n  devTools: process.env.NODE_ENV === 'development',\n});\n\nexport const persistor = persistStore(store);\n","import { Route, Redirect } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { authSelectors } from '../redux/auth';\n\nexport default function PrivateRoute({\n  isAuthenticated,\n  redirectTo,\n  children,\n  ...routeProps\n}) {\n  const isLoggedIn = useSelector(authSelectors.getIsAuthenticated);\n\n  return (\n    <Route {...routeProps}>\n      {isLoggedIn ? children : <Redirect to={redirectTo} />}\n    </Route>\n  );\n}\n","import { Route, Redirect } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { authSelectors } from '../redux/auth';\n\nexport default function PublicRoute({\n  isAuthenticated,\n  redirectTo,\n  children,\n  ...routeProps\n}) {\n  const isLoggedIn = useSelector(authSelectors.getIsAuthenticated);\n\n  return (\n    <Route {...routeProps}>\n      {isLoggedIn && routeProps.restricted ? (\n        <Redirect to={redirectTo} />\n      ) : (\n        children\n      )}\n    </Route>\n  );\n}\n","import PropTypes from 'prop-types';\nimport styles from './Container.module.css';\n\nfunction Container({ children }) {\n  return <div className={styles.Container}>{children}</div>;\n}\n\nContainer.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default Container;\n","import { NavLink } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { authSelectors } from '../../redux/auth';\nimport styles from './Navigation.module.css';\n\nfunction Navigation() {\n  const isLoggedIn = useSelector(authSelectors.getIsAuthenticated);\n\n  return (\n    <nav className={styles.Nav}>\n      <NavLink\n        to=\"/\"\n        exact\n        className={styles.Link}\n        activeClassName={styles.ActiveLink}\n      >\n        Home\n      </NavLink>\n\n      {isLoggedIn && (\n        <NavLink\n          to=\"/contacts\"\n          exact\n          className={styles.Link}\n          activeClassName={styles.ActiveLink}\n        >\n          Contacts\n        </NavLink>\n      )}\n    </nav>\n  );\n}\n\nexport default Navigation;\n","export default __webpack_public_path__ + \"static/media/avatar.8cb2cafe.png\";","import { useSelector, useDispatch } from 'react-redux';\nimport { authSelectors, authOperations } from '../../redux/auth';\nimport Button from '@material-ui/core/Button';\nimport defaultAvatar from '../../img/avatar.png';\nimport styles from './UserMenu.module.css';\n\nexport default function UserMenu() {\n  const dispatch = useDispatch();\n  const name = useSelector(authSelectors.getUserName);\n\n  return (\n    <div className={styles.Container}>\n      <img\n        src={defaultAvatar}\n        alt=\"Avatar\"\n        width=\"32\"\n        className={styles.Avatar}\n      />\n      <span className={styles.Name}>{name}</span>\n      <Button\n        color=\"secondary\"\n        variant=\"outlined\"\n        type=\"button\"\n        onClick={() => dispatch(authOperations.logOut())}\n      >\n        Log out\n      </Button>\n    </div>\n  );\n}\n","import { NavLink } from 'react-router-dom';\nimport styles from './AuthNav.module.css';\n\nconst AuthNav = () => (\n  <div>\n    <NavLink\n      to=\"/register\"\n      exact\n      className={styles.Link}\n      activeClassName={styles.ActiveLink}\n    >\n      Sign up\n    </NavLink>\n    <NavLink\n      to=\"/login\"\n      exact\n      className={styles.Link}\n      activeClassName={styles.ActiveLink}\n    >\n      Log in\n    </NavLink>\n  </div>\n);\n\nexport default AuthNav;\n","import { useSelector } from 'react-redux';\nimport Navigation from '../Navigation';\nimport UserMenu from '../UserMenu';\nimport AuthNav from '../AuthNav';\nimport { authSelectors } from '../../redux/auth';\nimport styles from './AppBar.module.css';\n\nexport default function Appbar() {\n  const isLoggedIn = useSelector(authSelectors.getIsAuthenticated);\n\n  return (\n    <header className={styles.Header}>\n      <Navigation />\n      {isLoggedIn ? <UserMenu /> : <AuthNav />}\n    </header>\n  );\n}\n","import { lazy, Suspense, useEffect } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport PrivateRoute from './components/PrivateRoute';\nimport PublicRoute from './components/PublicRoute';\nimport Container from './components/Container';\nimport AppBar from './components/AppBar';\nimport LoaderComponent from './components/Loader';\nimport { authOperations } from './redux/auth';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nconst HomeView = lazy(() =>\n  import('./views/HomeView' /* webpackChunkName: \"home-view\" */),\n);\n\nconst RegisterView = lazy(() =>\n  import('./views/RegisterView' /* webpackChunkName: \"register-view\" */),\n);\nconst LoginView = lazy(() =>\n  import('./views/LoginView' /* webpackChunkName: \"login-view\" */),\n);\nconst ContactsView = lazy(() =>\n  import('./views/ContactsView' /* webpackChunkName: \"contacts-view\" */),\n);\n\nconst NotFoundView = lazy(() =>\n  import('./views/NotFoundView' /* webpackChunkName: \"not-found-view\" */),\n);\n\nfunction App() {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(authOperations.getCurrentUser());\n  }, [dispatch]);\n\n  return (\n    <Container>\n      <AppBar />\n\n      <Suspense fallback={<LoaderComponent />}>\n        <Switch>\n          <PublicRoute path=\"/\" exact>\n            <HomeView />\n          </PublicRoute>\n\n          <PublicRoute path=\"/register\" restricted redirectTo=\"/contacts\">\n            <RegisterView />\n          </PublicRoute>\n\n          <PublicRoute path=\"/login\" restricted redirectTo=\"/contacts\">\n            <LoginView />\n          </PublicRoute>\n\n          <PrivateRoute path=\"/contacts\" redirectTo=\"/login\">\n            <ContactsView />\n          </PrivateRoute>\n\n          <Route>\n            <NotFoundView />\n          </Route>\n        </Switch>\n      </Suspense>\n\n      <ToastContainer autoClose={3700} position=\"top-center\" />\n    </Container>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport { BrowserRouter } from 'react-router-dom';\nimport { store, persistor } from './redux/store';\nimport App from './App';\nimport 'modern-normalize/modern-normalize.css';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","import axios from 'axios';\nimport {\n  registerRequest,\n  registerSuccess,\n  registerError,\n  loginRequest,\n  loginSuccess,\n  loginError,\n  logoutRequest,\n  logoutSuccess,\n  logoutError,\n  getCurrentUserRequest,\n  getCurrentUserSuccess,\n  getCurrentUserError,\n} from './auth-actions';\nimport { toast } from 'react-toastify';\n\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com';\n\nconst token = {\n  set(token) {\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n  },\n  unset() {\n    axios.defaults.headers.common.Authorization = '';\n  },\n};\n\nexport const register = credentials => async dispatch => {\n  dispatch(registerRequest());\n\n  try {\n    const response = await axios.post('/users/signup', credentials);\n\n    token.set(response.data.token);\n    dispatch(registerSuccess(response.data));\n  } catch (error) {\n    dispatch(registerError(error));\n\n    if (error.response.status === 400) {\n      toast.error('User creation error! Please try again!');\n    } else if (error.response.status === 500) {\n      toast.error('Server error! Please try again later!');\n    } else {\n      toast.error('Something went wrong!');\n    }\n  }\n};\n\nexport const logIn = credentials => async dispatch => {\n  dispatch(loginRequest());\n\n  try {\n    const response = await axios.post('/users/login', credentials);\n\n    token.set(response.data.token);\n    dispatch(loginSuccess(response.data));\n  } catch (error) {\n    dispatch(loginError(error));\n    toast.error('Invalid email or password! Try again!');\n  }\n};\n\nexport const logOut = () => async dispatch => {\n  dispatch(logoutRequest());\n\n  try {\n    await axios.post('/users/logout');\n\n    token.unset();\n    dispatch(logoutSuccess());\n  } catch (error) {\n    dispatch(logoutError(error));\n\n    if (error.response.status === 500) {\n      toast.error('Server error! Please try again later!');\n    } else {\n      toast.error('Something went wrong! Please reload the page!');\n    }\n  }\n};\n\nexport const getCurrentUser = () => async (dispatch, getState) => {\n  const {\n    auth: { token: persistedToken },\n  } = getState();\n\n  if (!persistedToken) {\n    return;\n  }\n\n  token.set(persistedToken);\n  dispatch(getCurrentUserRequest());\n\n  try {\n    const response = await axios.get('/users/current');\n\n    dispatch(getCurrentUserSuccess(response.data));\n  } catch (error) {\n    dispatch(getCurrentUserError(error));\n    token.unset();\n    toast.warn('Authorization timed out! Please authenticate again!');\n  }\n};\n","export const getIsAuthenticated = state => state.auth.isAuthenticated;\n\nexport const getUserName = state => state.auth.user.name;\n\nexport const getLoading = state => state.auth.isLoading;\n\nexport const getError = state => state.auth.error;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Link\":\"Navigation_Link__1hxEK\",\"ActiveLink\":\"Navigation_ActiveLink__2JPp0 Navigation_Link__1hxEK\"};","import { createAction } from '@reduxjs/toolkit';\n\nexport const registerRequest = createAction('auth/registerRequest');\nexport const registerSuccess = createAction('auth/registerSuccess');\nexport const registerError = createAction('auth/registerError');\n\nexport const loginRequest = createAction('auth/loginRequest');\nexport const loginSuccess = createAction('auth/loginSuccess');\nexport const loginError = createAction('auth/loginError');\n\nexport const logoutRequest = createAction('auth/logoutRequest');\nexport const logoutSuccess = createAction('auth/logoutSuccess');\nexport const logoutError = createAction('auth/logoutError');\n\nexport const getCurrentUserRequest = createAction('auth/getCurrentUserRequest');\nexport const getCurrentUserSuccess = createAction('auth/getCurrentUserSuccess');\nexport const getCurrentUserError = createAction('auth/getCurrentUserError');\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Link\":\"AuthNav_Link__3N3oj\",\"ActiveLink\":\"AuthNav_ActiveLink__xgNgh\"};","import { createReducer, combineReducers } from '@reduxjs/toolkit';\nimport {\n  registerRequest,\n  registerSuccess,\n  registerError,\n  loginRequest,\n  loginSuccess,\n  loginError,\n  logoutRequest,\n  logoutSuccess,\n  logoutError,\n  getCurrentUserRequest,\n  getCurrentUserSuccess,\n  getCurrentUserError,\n} from './auth-actions';\n\nconst initialUserState = {\n  name: null,\n  email: null,\n};\n\nconst user = createReducer(initialUserState, {\n  [registerSuccess]: (_, { payload }) => payload.user,\n  [loginSuccess]: (_, { payload }) => payload.user,\n  [logoutSuccess]: () => initialUserState,\n  [getCurrentUserSuccess]: (_, { payload }) => payload,\n});\n\nconst token = createReducer(null, {\n  [registerSuccess]: (_, { payload }) => payload.token,\n  [loginSuccess]: (_, { payload }) => payload.token,\n  [logoutSuccess]: () => null,\n});\n\nconst setError = (_, { payload }) => payload;\n\nconst error = createReducer(null, {\n  [registerError]: setError,\n  [loginError]: setError,\n  [logoutError]: setError,\n  [getCurrentUserError]: setError,\n  [registerRequest]: () => null,\n  [loginRequest]: () => null,\n  [logoutRequest]: () => null,\n  [getCurrentUserRequest]: () => null,\n});\n\nconst isAuthenticated = createReducer(false, {\n  [registerSuccess]: () => true,\n  [loginSuccess]: () => true,\n  [getCurrentUserSuccess]: () => true,\n  [registerError]: () => false,\n  [loginError]: () => false,\n  [getCurrentUserError]: () => false,\n  [logoutSuccess]: () => false,\n});\n\nconst isLoading = createReducer(false, {\n  [registerRequest]: () => true,\n  [registerSuccess]: () => false,\n  [registerError]: () => false,\n  [loginRequest]: () => true,\n  [loginSuccess]: () => false,\n  [loginError]: () => false,\n  [logoutRequest]: () => true,\n  [logoutSuccess]: () => false,\n  [logoutError]: () => false,\n  [getCurrentUserRequest]: () => true,\n  [getCurrentUserSuccess]: () => false,\n  [getCurrentUserError]: () => false,\n});\n\nexport default combineReducers({\n  user,\n  isAuthenticated,\n  token,\n  error,\n  isLoading,\n});\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"UserMenu_Container__2f4HK\",\"Avatar\":\"UserMenu_Avatar__38zOu\",\"Name\":\"UserMenu_Name__1deHt\"};","import Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport styles from './Loader.module.css';\n\nfunction LoaderComponent() {\n  return (\n    <div className={styles.overlay}>\n      <Loader\n        type=\"ThreeDots\"\n        color=\"#00BFFF\"\n        height={100}\n        width={100}\n        timeout={0}\n      />\n    </div>\n  );\n}\n\nexport default LoaderComponent;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Container_Container__3tQ9A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Header\":\"AppBar_Header__17PrO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Loader_overlay__eMvxB\"};"],"sourceRoot":""}